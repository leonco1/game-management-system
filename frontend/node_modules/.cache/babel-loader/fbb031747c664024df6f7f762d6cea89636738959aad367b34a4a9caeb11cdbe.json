{"ast":null,"code":"var _jsxFileName = \"/Users/leonidtrajkoski/Desktop/game-management-system/frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { gql, useMutation } from \"@apollo/client\";\nimport { AUTH_TOKEN } from \"../constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIGNUP_MUTATION = gql`\n    mutation SignupMutation(\n        $email: String!\n        $password: String!\n        $name: String!\n    ) {\n        signup(\n            email: $email\n            password: $password\n            name: $name\n        ) {\n            token\n        }\n    }\n`;\nconst LOGIN_MUTATION = gql`\n    mutation LoginMutation(\n        $email: String!\n        $password: String!\n    ) {\n        login(email: $email, password: $password) {\n            token\n        }\n    }\n`;\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formState, setFormState] = useState({\n    login: true,\n    email: '',\n    password: '',\n    name: ''\n  });\n  const [login] = useMutation(LOGIN_MUTATION, {\n    variables: {\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({\n      login\n    }) => {\n      localStorage.setItem(AUTH_TOKEN, login.token);\n      navigate('/');\n    }\n  });\n  const [signup] = useMutation(SIGNUP_MUTATION, {\n    variables: {\n      name: formState.name,\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({\n      signup\n    }) => {\n      localStorage.setItem(AUTH_TOKEN, signup.token);\n      navigate('/');\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"mv3\",\n      children: formState.login ? 'Login' : 'Sign Up'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-column\",\n      children: [!formState.login && /*#__PURE__*/_jsxDEV(\"input\", {\n        value: formState.name,\n        onChange: e => setFormState({\n          ...formState,\n          name: e.target.value\n        }),\n        type: \"text\",\n        placeholder: \"Your name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: formState.email,\n        onChange: e => setFormState({\n          ...formState,\n          email: e.target.value\n        }),\n        type: \"text\",\n        placeholder: \"Your email address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: formState.password,\n        onChange: e => setFormState({\n          ...formState,\n          password: e.target.value\n        }),\n        type: \"password\",\n        placeholder: \"Choose a safe password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mt3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pointer mr2 button\",\n        onClick: formState.login ? login : signup,\n        children: formState.login ? 'login' : 'create account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pointer button\",\n        onClick: e => setFormState({\n          ...formState,\n          login: !formState.login\n        }),\n        children: formState.login ? 'need to create an account?' : 'already have an account?'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"wsf0YrEP1I5HrVzIiaIAyPGY2t4=\", false, function () {\n  return [useNavigate, useMutation, useMutation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","gql","useMutation","AUTH_TOKEN","jsxDEV","_jsxDEV","SIGNUP_MUTATION","LOGIN_MUTATION","Login","_s","navigate","formState","setFormState","login","email","password","name","variables","onCompleted","localStorage","setItem","token","signup","children","className","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/leonidtrajkoski/Desktop/game-management-system/frontend/src/components/Login.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport {gql, useMutation} from \"@apollo/client\";\nimport {AUTH_TOKEN} from \"../constants\";\n\nconst SIGNUP_MUTATION = gql`\n    mutation SignupMutation(\n        $email: String!\n        $password: String!\n        $name: String!\n    ) {\n        signup(\n            email: $email\n            password: $password\n            name: $name\n        ) {\n            token\n        }\n    }\n`;\n\nconst LOGIN_MUTATION = gql`\n    mutation LoginMutation(\n        $email: String!\n        $password: String!\n    ) {\n        login(email: $email, password: $password) {\n            token\n        }\n    }\n`;\n\nconst Login = () => {\n\n  const navigate = useNavigate();\n  const [formState, setFormState] = useState({\n    login: true,\n    email: '',\n    password: '',\n    name: ''\n  });\n\n  const [login] = useMutation(LOGIN_MUTATION, {\n    variables: {\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({login}) => {\n      localStorage.setItem(AUTH_TOKEN, login.token);\n      navigate('/');\n    }\n  });\n\n  const [signup] = useMutation(SIGNUP_MUTATION, {\n    variables: {\n      name: formState.name,\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({signup}) => {\n      localStorage.setItem(AUTH_TOKEN, signup.token);\n      navigate('/');\n    }\n  });\n\n  return (\n    <div>\n      <h4 className=\"mv3\">\n        {formState.login ? 'Login' : 'Sign Up'}\n      </h4>\n      <div className=\"flex flex-column\">\n        {!formState.login && (\n          <input\n            value={formState.name}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                name: e.target.value\n              })\n            }\n            type=\"text\"\n            placeholder=\"Your name\"\n          />\n        )}\n        <input\n          value={formState.email}\n          onChange={(e) =>\n            setFormState({\n              ...formState,\n              email: e.target.value\n            })\n          }\n          type=\"text\"\n          placeholder=\"Your email address\"\n        />\n        <input\n          value={formState.password}\n          onChange={(e) =>\n            setFormState({\n              ...formState,\n              password: e.target.value\n            })\n          }\n          type=\"password\"\n          placeholder=\"Choose a safe password\"\n        />\n      </div>\n      <div className=\"flex mt3\">\n        <button\n          className=\"pointer mr2 button\"\n          onClick={formState.login ? login : signup}\n        >\n          {formState.login ? 'login' : 'create account'}\n        </button>\n        <button\n          className=\"pointer button\"\n          onClick={(e) =>\n            setFormState({\n              ...formState,\n              login: !formState.login\n            })\n          }\n        >\n          {formState.login\n            ? 'need to create an account?'\n            : 'already have an account?'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}