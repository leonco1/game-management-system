{"ast":null,"code":"var _jsxFileName = \"/Users/leonidtrajkoski/Desktop/game-management-system/frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { gql, useMutation } from \"@apollo/client\";\nimport { AUTH_TOKEN } from \"../utils/constants.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIGNUP_MUTATION = gql`\n    mutation SignupMutation(\n        $email: String!\n        $password: String!\n        $name: String!\n    ) {\n        signup(\n            email: $email\n            password: $password\n            name: $name\n        ) {\n            token\n        }\n    }\n`;\nconst LOGIN_MUTATION = gql`\n    mutation LoginMutation(\n        $email: String!\n        $password: String!\n    ) {\n        login(email: $email, password: $password) {\n            token\n        }\n    }\n`;\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formState, setFormState] = useState({\n    login: true,\n    email: '',\n    password: '',\n    name: ''\n  });\n  const [login] = useMutation(LOGIN_MUTATION, {\n    variables: {\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({\n      login\n    }) => {\n      localStorage.setItem(AUTH_TOKEN, login.token);\n      navigate('/');\n    }\n  });\n  const [signup] = useMutation(SIGNUP_MUTATION, {\n    variables: {\n      name: formState.name,\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({\n      signup\n    }) => {\n      localStorage.setItem(AUTH_TOKEN, signup.token);\n      navigate('/');\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-2xl font-bold mb-6 text-center\",\n      children: formState.login ? 'Login' : 'Sign Up'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-4\",\n      children: [!formState.login && /*#__PURE__*/_jsxDEV(\"input\", {\n        value: formState.name,\n        onChange: e => setFormState({\n          ...formState,\n          name: e.target.value\n        }),\n        type: \"text\",\n        placeholder: \"Your name\",\n        className: \"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: formState.email,\n        onChange: e => setFormState({\n          ...formState,\n          email: e.target.value\n        }),\n        type: \"text\",\n        placeholder: \"Your email address\",\n        className: \"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: formState.password,\n        onChange: e => setFormState({\n          ...formState,\n          password: e.target.value\n        }),\n        type: \"password\",\n        placeholder: \"Choose a safe password\",\n        className: \"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mt-6 space-x-4 justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full bg-blue-500 text-white py-2 rounded-md font-semibold hover:bg-blue-600 transition duration-300\",\n        onClick: formState.login ? login : signup,\n        children: formState.login ? 'Login' : 'Create Account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-blue-500 hover:underline\",\n        onClick: () => setFormState({\n          ...formState,\n          login: !formState.login\n        }),\n        children: formState.login ? 'Need to create an account?' : 'Already have an account?'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"wsf0YrEP1I5HrVzIiaIAyPGY2t4=\", false, function () {\n  return [useNavigate, useMutation, useMutation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","gql","useMutation","AUTH_TOKEN","jsxDEV","_jsxDEV","SIGNUP_MUTATION","LOGIN_MUTATION","Login","_s","navigate","formState","setFormState","login","email","password","name","variables","onCompleted","localStorage","setItem","token","signup","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/leonidtrajkoski/Desktop/game-management-system/frontend/src/components/Login.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport {gql, useMutation} from \"@apollo/client\";\nimport {AUTH_TOKEN} from \"../utils/constants.js\";\n\nconst SIGNUP_MUTATION = gql`\n    mutation SignupMutation(\n        $email: String!\n        $password: String!\n        $name: String!\n    ) {\n        signup(\n            email: $email\n            password: $password\n            name: $name\n        ) {\n            token\n        }\n    }\n`;\n\nconst LOGIN_MUTATION = gql`\n    mutation LoginMutation(\n        $email: String!\n        $password: String!\n    ) {\n        login(email: $email, password: $password) {\n            token\n        }\n    }\n`;\n\n\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [formState, setFormState] = useState({\n    login: true,\n    email: '',\n    password: '',\n    name: ''\n  });\n\n  const [login] = useMutation(LOGIN_MUTATION, {\n    variables: {\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({login}) => {\n      localStorage.setItem(AUTH_TOKEN, login.token);\n      navigate('/');\n    }\n  });\n\n  const [signup] = useMutation(SIGNUP_MUTATION, {\n    variables: {\n      name: formState.name,\n      email: formState.email,\n      password: formState.password\n    },\n    onCompleted: ({signup}) => {\n      localStorage.setItem(AUTH_TOKEN, signup.token);\n      navigate('/');\n    }\n  });\n  return (\n    <div className=\"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg\">\n      <h4 className=\"text-2xl font-bold mb-6 text-center\">\n        {formState.login ? 'Login' : 'Sign Up'}\n      </h4>\n      <div className=\"flex flex-col space-y-4\">\n        {!formState.login && (\n          <input\n            value={formState.name}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                name: e.target.value\n              })\n            }\n            type=\"text\"\n            placeholder=\"Your name\"\n            className=\"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        )}\n        <input\n          value={formState.email}\n          onChange={(e) =>\n            setFormState({\n              ...formState,\n              email: e.target.value\n            })\n          }\n          type=\"text\"\n          placeholder=\"Your email address\"\n          className=\"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <input\n          value={formState.password}\n          onChange={(e) =>\n            setFormState({\n              ...formState,\n              password: e.target.value\n            })\n          }\n          type=\"password\"\n          placeholder=\"Choose a safe password\"\n          className=\"px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n      <div className=\"flex mt-6 space-x-4 justify-center\">\n        <button\n          className=\"w-full bg-blue-500 text-white py-2 rounded-md font-semibold hover:bg-blue-600 transition duration-300\"\n          onClick={formState.login ? login : signup}\n        >\n          {formState.login ? 'Login' : 'Create Account'}\n        </button>\n      </div>\n      <div className=\"text-center mt-4\">\n        <button\n          className=\"text-blue-500 hover:underline\"\n          onClick={() =>\n            setFormState({\n              ...formState,\n              login: !formState.login\n            })\n          }\n        >\n          {formState.login\n            ? 'Need to create an account?'\n            : 'Already have an account?'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}